{
  String serviceName=entry.getKey();
  String absolutePuName=ServiceUtils.getAbsolutePUName(applicationName,serviceName);
  int plannedNumberOfInstances=getPlannedNumberOfInstances(serviceName);
  int numberOfServiceInstances=getNumberOfServiceInstances(absolutePuName);
  if (numberOfServiceInstances == 0) {
    if (!isUninstall) {
      this.lifecycleEventsContainer.addInstanceCountEvent("Deploying " + serviceName + " with "+ plannedNumberOfInstances+ " planned instances.");
    }
  }
 else {
    this.lifecycleEventsContainer.addInstanceCountEvent("[" + serviceName + "] "+ "Deployed "+ numberOfServiceInstances+ " planned "+ plannedNumberOfInstances);
  }
  if (plannedNumberOfInstances == numberOfServiceInstances) {
    if (!isServiceInstall) {
      if (!isUninstall) {
        this.lifecycleEventsContainer.addInstanceCountEvent("Service \"" + serviceName + "\" successfully installed ("+ numberOfServiceInstances+ " Instances)");
        this.serviceNames.remove(serviceName);
      }
    }
 else {
      this.serviceNames.remove(serviceName);
    }
  }
  final Zone zone=admin.getZones().getByName(absolutePuName);
  if (zone == null) {
    logger.log(Level.FINE,"Zone " + absolutePuName + " does not exist");
    if (isUninstall) {
      this.lifecycleEventsContainer.addInstanceCountEvent("Undeployed service " + serviceName + ".");
      this.lifecycleEventsContainer.addInstanceCountEvent("Service \"" + serviceName + "\" uninstalled successfully");
    }
  }
}
