{
  Socket sock=null;
  int portCounter=0;
  for (  int port : portList) {
    try {
      sock=new Socket();
      logger.info("Checking port " + port);
      sock.connect(new InetSocketAddress(hostName,port));
      logger.info("Connected to port " + port);
      sock.close();
      portCounter++;
      logger.info("Port list size is " + portList.size() + " Port counter is "+ portCounter);
      if (portCounter == portList.size()) {
        return true;
      }
    }
 catch (    IOException e) {
      return false;
    }
 finally {
      try {
        sock.close();
      }
 catch (      IOException e) {
      }
    }
  }
  return false;
}
