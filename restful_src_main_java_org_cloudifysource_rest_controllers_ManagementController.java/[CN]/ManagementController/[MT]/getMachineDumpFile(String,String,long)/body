{
  final String[] actualProcessors=getProcessorsFromRequest(processors);
  Machine machine=this.admin.getMachines().getHostsByAddress().get(ip);
  if (machine == null) {
    throw new RestErrorException(ResponseConstants.MACHINE_NOT_FOUND,ip);
  }
  final byte[] dumpBytes=generateMachineDumpData(fileSizeLimit,machine,actualProcessors);
  GetMachineDumpFileResponse response=new GetMachineDumpFileResponse();
  response.setDumpBytes(dumpBytes);
  return response;
}
