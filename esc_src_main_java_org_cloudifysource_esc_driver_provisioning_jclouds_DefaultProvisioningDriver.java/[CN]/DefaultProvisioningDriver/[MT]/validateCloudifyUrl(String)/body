{
  publishEvent(CloudifyErrorMessages.EVENT_VALIDATING_CLOUDIFY_URL.getName());
  DefaultHttpClient httpClient=new DefaultHttpClient();
  String effectiveUrl=cloudifyUrl;
  if (!effectiveUrl.endsWith(".zip") && !effectiveUrl.endsWith(".tar.gz")) {
    effectiveUrl+=".zip";
  }
  HttpHead httpMethod=new HttpHead(effectiveUrl);
  try {
    HttpResponse response=httpClient.execute(httpMethod);
    if (response.getStatusLine().getStatusCode() != HttpStatus.SC_OK) {
      throw new CloudProvisioningException("Invalid cloudify URL: " + effectiveUrl);
    }
  }
 catch (  ClientProtocolException e) {
    e.printStackTrace();
  }
catch (  IOException e) {
    e.printStackTrace();
  }
}
