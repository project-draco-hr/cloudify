{
  String providerName=cloud.getProvider().getProvider();
  String apiId;
  boolean endpointRequired=false;
  try {
    publishOngoingEvent(CloudifyErrorMessages.EVENT_VALIDATING_PROVIDER_OR_API_NAME.getName(),providerName);
    ProviderMetadata providerMetadata=Providers.withId(providerName);
    ApiMetadata apiMetadata=providerMetadata.getApiMetadata();
    apiId=apiMetadata.getId();
    publishEventEnd(VALIDATION_SUCCESS_MESSAGE);
  }
 catch (  NoSuchElementException e) {
    try {
      ApiMetadata apiMetadata=Apis.withId(providerName);
      apiId=apiMetadata.getId();
      endpointRequired=true;
      publishEventEnd(VALIDATION_SUCCESS_MESSAGE);
    }
 catch (    NoSuchElementException ex) {
      publishEventEnd(" [Error] Provider not supported: " + providerName);
      throw new CloudProvisioningException("Provider not supported: " + providerName,ex);
    }
  }
  validateCloudifyUrl(cloud.getProvider().getCloudifyUrl());
  validateComputeTemplates(endpointRequired,apiId);
}
