{
synchronized (GLOBAL_ADMIN_MUTEX) {
    if (globalAdminInstance == null) {
      final AdminFactory factory=new AdminFactory();
      for (      final String group : esmAdminInstance.getGroups()) {
        factory.addGroup(group);
      }
      for (      final LookupLocator locator : esmAdminInstance.getLocators()) {
        factory.addLocator(locator.getHost() + ":" + locator.getPort());
      }
      globalAdminInstance=factory.createAdmin();
      logger.info("waiting for admin object to sync: " + cloud.getConfiguration().getAdminLoadingTime() + " seconds");
      Thread.sleep(cloud.getConfiguration().getAdminLoadingTime() * MILLISECONDS_IN_SECOND);
    }
    return globalAdminInstance;
  }
}
