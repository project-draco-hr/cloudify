{
  long timeout=end - System.currentTimeMillis();
  ComputeTemplate computeTemplate=this.cloud.getCloudCompute().getTemplates().get(this.cloudTemplateName);
  boolean privileged=computeTemplate.isPrivileged();
  if (!privileged) {
    throw new StorageProvisioningException("Storage mounting requires running in privileged mode.");
  }
  VolumeDetails volumeDetails=this.storageProvisioning.createVolume(machineLocation,timeout,TimeUnit.MILLISECONDS);
  return volumeDetails;
}
