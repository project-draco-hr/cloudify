{
  List<CloudTemplate> addedTemplates=new LinkedList<CloudTemplate>();
  List<CloudTemplateHolder> additionalTemplates=null;
  for (  File folder : templatesFolders) {
    try {
      additionalTemplates=readCloudTemplatesFromDirectory(folder);
    }
 catch (    DSLException e) {
      logger.log(Level.WARNING,"addAdditionalTemplates - " + "Failed to read tempaltes from directory: " + folder.getAbsolutePath() + "Error: "+ e.getMessage());
    }
    for (    CloudTemplateHolder holder : additionalTemplates) {
      String tempalteName=holder.getName();
      Map<String,CloudTemplate> cloudTemplates=cloud.getTemplates();
      if (cloudTemplates.containsKey(tempalteName)) {
        logger.log(Level.WARNING,"addAdditionalTemplates - " + "template already exist: " + tempalteName);
        continue;
      }
      CloudTemplate cloudTemplate=holder.getCloudTemplate();
      String uploadAbsolutePath=new File(folder,cloudTemplate.getLocalDirectory()).getAbsolutePath();
      cloudTemplate.setAbsoluteUploadDir(uploadAbsolutePath);
      cloudTemplates.put(tempalteName,cloudTemplate);
      addedTemplates.add(cloudTemplate);
    }
  }
  return addedTemplates;
}
