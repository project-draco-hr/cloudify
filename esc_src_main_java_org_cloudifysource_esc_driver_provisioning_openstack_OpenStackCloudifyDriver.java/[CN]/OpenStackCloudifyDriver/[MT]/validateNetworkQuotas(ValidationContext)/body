{
  try {
    validationContext.validationOngoingEvent(ValidationMessageType.GROUP_VALIDATION_MESSAGE,"Validating network quotas");
    final String tenantId=computeApi.getTenantId();
    if (StringUtils.isBlank(tenantId)) {
      validationContext.validationEventEnd(ValidationResultType.ERROR);
      logger.info("Failed to retrieve tenant id, skipping network quotas validation");
      return;
    }
    final Quota quotas=this.networkApi.getQuotasForTenant(tenantId);
    if (quotas == null) {
      throw new OpenstackException("Failed getting network quotas.");
    }
    validateSecurityGroupsQuota(validationContext,quotas.getSecurityGroup(),tenantId);
    validateSecurityGroupRulesQuota(validationContext,quotas.getSecurityGroupRule(),tenantId);
    validateRoutersQuota(validationContext,quotas.getRouter(),tenantId);
    validateNetworksQuota(validationContext,quotas.getNetwork(),tenantId);
    validateSubnetsQuota(validationContext,quotas.getSubnet(),tenantId);
    validateFloatingIpsQuota(validationContext,quotas.getFloatingip());
    validationContext.validationEventEnd(ValidationResultType.OK);
  }
 catch (  final OpenstackException e) {
    validationContext.validationEventEnd(ValidationResultType.ERROR);
    logger.info("Failed to retrieve tenant id, skipping network quotas validation");
    throw new CloudProvisioningException("Failed validating cloud network resources. Reason: " + e.getMessage(),e);
  }
}
