{
  cloud.getCloudNetwork().setTemplates(new HashMap<String,NetworkConfiguration>());
  cloud.getCloudCompute().getTemplates().get(APPLI_COMPUTE_TEMPLATE).getComputeNetwork().setNetworks(new ArrayList<String>());
  ComputeDriverConfiguration configuration=createConfiguration(cloud,null,false);
  OpenStackNetworkConfigurationHelper helper=new OpenStackNetworkConfigurationHelper(configuration);
  Assert.assertEquals(mngNetConfig,helper.getNetworkConfiguration());
  Assert.assertTrue(helper.getComputeNetworks().isEmpty());
  Assert.assertEquals(prefixedMngNetTemplateName,helper.getApplicationNetworkName());
  Assert.assertEquals(prefixedMngNetTemplateName,helper.getManagementNetworkName());
  Assert.assertEquals(prefixedMngNetTemplateName,helper.getPrivateIpNetworkName());
  Assert.assertEquals(false,helper.useServiceNetworkTemplate());
  Assert.assertEquals(true,helper.useManagementNetwork());
}
