{
  logger.log(Level.INFO,"Creating " + azureHostedServiceName + ".cspkg");
  File csPackExe=new File(cspackDirectory,"cspack.exe");
  List<String> commands=new ArrayList<String>(Arrays.asList(csPackExe.toString(),"ServiceDefinition.csdef","/out:" + azureHostedServiceName + ".cspkg","/role:ui;..\\ui;UIRole.dll","/role:management;..\\management;ManagementRole.dll"));
  for (  String serviceName : serviceNames) {
    commands.add("/role:" + serviceName + ";..\\internal;InternalWorkerRole.dll");
  }
  executeCommandLine(projectDirectory,commands.toArray(new String[commands.size()]));
  return new File(projectDirectory,"" + azureHostedServiceName + ".cspkg");
}
