{
  ProcessingUnitInstanceStatistics statistics=pui.getStatistics();
  if (statistics == null) {
    return false;
  }
  Map<String,ServiceMonitors> puMonitors=statistics.getMonitors();
  if (puMonitors == null) {
    return false;
  }
  ServiceMonitors serviceMonitors=puMonitors.get("USM");
  if (serviceMonitors == null) {
    return false;
  }
  Map<String,Object> monitors=serviceMonitors.getMonitors();
  if (monitors == null) {
    return false;
  }
  int instanceState=(Integer)monitors.get(CloudifyConstants.USM_MONITORS_STATE_ID);
  if (CloudifyConstants.USMState.values()[instanceState].equals(CloudifyConstants.USMState.RUNNING)) {
    return true;
  }
  return false;
}
