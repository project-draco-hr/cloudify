{
  if ("global".equals(scope)) {
    return "/attributes/globals";
  }
 else   if ("application".equals(scope)) {
    return "/attributes/applications/" + applicationName;
  }
 else   if (scope.toLowerCase().startsWith("service")) {
    String[] serviceScope=scope.split(":");
    if (serviceScope.length < 2) {
      throw new CLIStatusException("service_scope_must_contain_service_name");
    }
    String serviceName=serviceScope[1];
    if (serviceScope.length == 2) {
      return "/attributes/services/" + applicationName + "/"+ serviceName;
    }
 else {
      String instanceIdentifier=serviceScope[2];
      if ("all-instances".equalsIgnoreCase(instanceIdentifier)) {
        return "/attributes/instances";
      }
      Integer instanceId=StringUtils.safeParseInt(instanceIdentifier);
      if (instanceIdentifier != null) {
        validateInstanceId(instanceId,applicationName,serviceName);
        return "/attributes/instances/" + applicationName + "/"+ serviceName+ "/"+ instanceIdentifier;
      }
 else {
        throw new CLIStatusException("illegal_instance_identifier",instanceIdentifier);
      }
    }
  }
 else {
    throw new CLIStatusException("illegal_scope",scope);
  }
}
