{
  String hostAddress=puInstance.getMachine().getHostAddress();
  String host=puInstance.getMachine().getHostName() + "/" + hostAddress;
  String uri="http://" + hostAddress + ":"+ puInstance.getJeeDetails().getPort()+ url;
  HttpPost postMethod=new HttpPost(uri);
  final MultipartEntity reqEntity=new MultipartEntity();
  reqEntity.addPart(CloudifyConstants.TEMPLATES_DIR_PARAM_NAME,new FileBody(templatesFolder));
  postMethod.setEntity(reqEntity);
  Object response=null;
  Map<String,Object> responseMap;
  DefaultHttpClient httpClient=new DefaultHttpClient();
  try {
    response=RestUtils.executeHttpMethod(postMethod,httpClient);
    responseMap=(Map<String,Object>)response;
  }
 catch (  ClassCastException e) {
    throw new RestErrorException("The response from host address " + host + " is not a map as expected. "+ "response: "+ response.toString()+ ".");
  }
  return responseMap;
}
