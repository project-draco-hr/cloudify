{
  String hostAddress=puInstance.getMachine().getHostAddress();
  String host=puInstance.getMachine().getHostName() + "/" + hostAddress;
  String uri="http://" + hostAddress + ":"+ puInstance.getJeeDetails().getPort()+ url;
  HttpPost postMethod=new HttpPost(uri);
  final MultipartEntity reqEntity=new MultipartEntity();
  reqEntity.addPart(CloudifyConstants.TEMPLATES_DIR_PARAM_NAME,new FileBody(templatesFolder));
  postMethod.setEntity(reqEntity);
  DefaultHttpClient httpClient=new DefaultHttpClient();
  Object response=RestUtils.executeHttpMethod(postMethod,httpClient);
  try {
    return (Map<String,Object>)response;
  }
 catch (  ClassCastException e) {
    throw new RestErrorException("The response from host address " + host + " is not a map as expected. "+ "response: "+ response.toString()+ '.');
  }
}
