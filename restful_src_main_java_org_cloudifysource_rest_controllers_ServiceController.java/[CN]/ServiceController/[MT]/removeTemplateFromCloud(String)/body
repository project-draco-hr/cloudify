{
  File templateFile=getTemplateFile(templateName);
  if (templateFile == null) {
    throw new RestErrorException("failed_to_remove_template_file",templateName,"template file doesn't exist.");
  }
  String templatesPath=templateFile.getAbsolutePath();
  logger.log(Level.INFO,"removeTemplateFromCloud- removing template file " + templatesPath);
  boolean deleted=false;
  try {
    deleted=templateFile.delete();
  }
 catch (  SecurityException e) {
    throw new RestErrorException("failed_to_remove_template_file",templatesPath,e.getMessage());
  }
  if (!deleted) {
    throw new RestErrorException("failed_to_remove_template_file",templatesPath,"template file was not deleted.");
  }
  logger.log(Level.INFO,"removeTemplateFromCloud- Successfully removed template file [" + templatesPath + "].");
  logger.log(Level.INFO,"removeTemplateFromCloud- removing template [" + templateName + "] from cloud.");
  Map<String,CloudTemplate> cloudTemplates=cloud.getTemplates();
  if (!cloudTemplates.containsKey(templateName)) {
    throw new RestErrorException("tamplate_not_exist",templateName);
  }
  cloudTemplates.remove(templateName);
  logger.log(Level.INFO,"removeTemplateFromCloud- Successfully removed template [" + templateName + "].");
}
