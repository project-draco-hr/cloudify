{
  logger.info("Initializing service controller cloud configuration");
  this.cloud=readCloud();
  if (cloud != null) {
    if (this.cloud.getTemplates().isEmpty()) {
      throw new IllegalArgumentException("No templates defined in cloud configuration!");
    }
    this.defaultTemplateName=this.cloud.getTemplates().keySet().iterator().next();
    logger.info("Setting default template name to: " + defaultTemplateName + ". This template will be used for services that do not specify an explicit template");
    this.managementTemplate=this.cloud.getTemplates().get(this.cloud.getConfiguration().getManagementMachineTemplate());
  }
 else {
    logger.info("Service Controller is running in local cloud mode");
  }
  try {
    if (StringUtils.isBlank(temporaryFolder)) {
      temporaryFolder=getTempFolderPath();
    }
  }
 catch (  final IOException e) {
    logger.log(Level.SEVERE,"ServiceController failed to locate temp directory",e);
    throw new IllegalStateException("ServiceController failed to locate temp directory",e);
  }
  startLifecycleLogsCleanupTask();
}
