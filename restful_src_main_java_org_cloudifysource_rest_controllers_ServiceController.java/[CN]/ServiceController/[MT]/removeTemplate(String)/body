{
  logger.log(Level.INFO,"removeTemplate - removing template " + templateName);
  final String templatefileName=additionalTemplateFiles.get(templateName);
  String cloudConfigurationFilePath=new File(getCloudConfigurationFilePath()).getParent();
  if (templatefileName == null) {
    logger.log(Level.INFO,"removeTemplate RestErrorException - tempalte [" + templateName + "] doesnt exist.");
    throw new RestErrorException("failed_to_remove_template_file",templatefileName,"template file doesn't exist in folder " + cloudConfigurationFilePath);
  }
  File templateFile=new File(cloudConfigurationFilePath,templatefileName);
  logger.log(Level.INFO,"removeTemplate- removing template file " + templateFile.getAbsolutePath());
  if (!templateFile.exists()) {
    throw new RestErrorException("failed_to_remove_template_file",templateFile.getAbsolutePath(),"template file doesn't exist.");
  }
  boolean deleted=false;
  try {
    deleted=templateFile.delete();
  }
 catch (  SecurityException e) {
    throw new RestErrorException("failed_to_remove_template_file",templateFile.getAbsolutePath(),e.getMessage());
  }
  if (!deleted) {
    throw new RestErrorException("failed_to_remove_template_file",templateFile.getAbsolutePath(),"template file was not deleted.");
  }
  logger.log(Level.INFO,"removeTemplate- removing template from cloud: " + templateName);
  Map<String,CloudTemplate> cloudTemplates=getCloudTemplates();
  if (!cloudTemplates.containsKey(templateName)) {
    throw new RestErrorException("failed_to_remove_template",templateName);
  }
  removeTemplateFromCloudTemplatesList(templateName);
  return successStatus();
}
