{
  final String absolutePuName=ServiceUtils.getAbsolutePUName(applicationName,serviceName);
  final int timeout=Integer.parseInt(params.get("timeout"));
  final ProcessingUnit processingUnit=admin.getProcessingUnits().waitFor(absolutePuName,PU_DISCOVERY_TIMEOUT_SEC,TimeUnit.SECONDS);
  if (processingUnit == null) {
    return unavailableServiceError(absolutePuName);
  }
  final int before=processingUnit.getNumberOfInstances();
  processingUnit.incrementInstance();
  final boolean result=processingUnit.waitFor(before + 1,timeout,TimeUnit.SECONDS);
  if (result) {
    return successStatus();
  }
  return errorStatus(ResponseConstants.FAILED_TO_ADD_INSTANCE,applicationName,serviceName);
}
