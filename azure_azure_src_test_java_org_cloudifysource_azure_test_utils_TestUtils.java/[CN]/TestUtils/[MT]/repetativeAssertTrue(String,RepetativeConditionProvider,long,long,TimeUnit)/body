{
  long timeoutMillis=timeUnit.toMillis(timeout);
  long pollingIntervalMillis=timeUnit.toMillis(pollingInterval);
  long end=System.currentTimeMillis() + timeoutMillis;
  boolean isConditionMet=condition.getCondition();
  while (!isConditionMet && System.currentTimeMillis() < end) {
    isConditionMet=condition.getCondition();
    Thread.sleep(pollingIntervalMillis);
  }
  Assert.assertTrue(message,isConditionMet);
}
