{
  createConditionLatch(timeout,timeunit).waitFor(new ConditionLatch.Predicate(){
    @Override public boolean isDone() throws CLIException, InterruptedException {
      AzureDeploymentStatus currentStatus=azureDeploymentWrapper.getStatus();
      logger.log(Level.INFO,"Current status: " + currentStatus.getStatus() + ". Waiting for status "+ status);
      return currentStatus == status;
    }
  }
);
}
