{
  List<AzureRole> roles=new LinkedList<AzureRole>();
  try {
    DocumentBuilderFactory docBuilderFactory=DocumentBuilderFactory.newInstance();
    DocumentBuilder docBuilder=docBuilderFactory.newDocumentBuilder();
    Document doc=docBuilder.parse(file);
    doc.getDocumentElement().normalize();
    NodeList listOfRoles=doc.getElementsByTagName("WorkerRole");
    for (int i=0; i < listOfRoles.getLength(); i++) {
      Node roleNode=listOfRoles.item(i);
      if (roleNode.getNodeType() == Node.ELEMENT_NODE) {
        Node roleName=roleNode.getAttributes().getNamedItem("name");
        if (roleName != null)         roles.add(new AzureRole(roleName.getNodeValue(),this));
      }
    }
  }
 catch (  SAXException e) {
    e.printStackTrace();
  }
catch (  IOException e) {
    e.printStackTrace();
  }
catch (  ParserConfigurationException e) {
    e.printStackTrace();
  }
  return roles;
}
