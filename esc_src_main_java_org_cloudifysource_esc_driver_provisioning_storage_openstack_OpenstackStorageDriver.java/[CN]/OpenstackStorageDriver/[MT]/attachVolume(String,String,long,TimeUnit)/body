{
  Optional<? extends VolumeAttachmentApi> volumeAttachmentApi;
  NodeMetadata node=deployer.getServerWithIP(machineIp);
  if (node == null) {
    throw new StorageProvisioningException("Failed to attach volume " + volumeId + " to server. Server "+ "with ip: "+ machineIp+ " not found");
  }
  volumeAttachmentApi=novaContext.getApi().getVolumeAttachmentExtensionForZone(node.getLocation().getParent().getId());
  if (volumeAttachmentApi.isPresent()) {
    volumeAttachmentApi.get().attachVolumeToServerAsDevice(volumeId,node.getId(),storageTemplate.getDeviceName());
  }
 else {
  }
}
