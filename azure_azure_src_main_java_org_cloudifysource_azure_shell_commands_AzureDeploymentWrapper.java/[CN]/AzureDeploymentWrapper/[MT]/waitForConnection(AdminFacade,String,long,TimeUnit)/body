{
  createConditionLatch(timeout,timeunit).waitFor(new ConditionLatch.Predicate(){
    @Override public boolean isDone() throws CLIException, InterruptedException {
      flushDns();
      try {
        adminFacade.connect(null,null,restAdminUrl);
        return true;
      }
 catch (      CLIException e) {
        String message="Waiting for role instances and REST Admin server: " + restAdminUrl;
        if (verbose) {
          logger.log(Level.INFO,message,e);
        }
 else {
          logger.log(Level.INFO,message);
        }
        return false;
      }
    }
  }
);
}
