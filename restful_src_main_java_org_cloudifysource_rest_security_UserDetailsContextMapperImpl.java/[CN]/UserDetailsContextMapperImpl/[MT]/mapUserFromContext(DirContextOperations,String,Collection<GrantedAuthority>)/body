{
  List<GrantedAuthority> mappedAuthorities=new ArrayList<GrantedAuthority>();
  for (  GrantedAuthority granted : authority) {
    if (granted.getAuthority().equalsIgnoreCase("MY USER GROUP")) {
      mappedAuthorities.add(new GrantedAuthority(){
        private static final long serialVersionUID=4356967414267942910L;
        @Override public String getAuthority(){
          return "ROLE_USER";
        }
      }
);
    }
 else     if (granted.getAuthority().equalsIgnoreCase("MY ADMIN GROUP")) {
      mappedAuthorities.add(new GrantedAuthority(){
        private static final long serialVersionUID=-5167156646226168080L;
        @Override public String getAuthority(){
          return "ROLE_ADMIN";
        }
      }
);
    }
  }
  return new User(username,"",true,true,true,true,mappedAuthorities);
}
