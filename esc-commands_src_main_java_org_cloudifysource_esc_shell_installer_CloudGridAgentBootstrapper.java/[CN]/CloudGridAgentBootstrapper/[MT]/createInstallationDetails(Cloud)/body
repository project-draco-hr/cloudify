{
  final InstallationDetails details=new InstallationDetails();
  details.setLocalDir(cloud.getProvider().getLocalDirectory());
  details.setZones(StringUtils.join(cloud.getProvider().getZones().toArray(new String[0]),",",0,cloud.getProvider().getZones().size()));
  details.setRemoteDir(cloud.getProvider().getRemoteDirectory());
  details.setLocator(null);
  details.setPrivateIp(null);
  details.setLus(true);
  details.setCloudifyUrl(cloud.getProvider().getCloudifyUrl());
  details.setOverridesUrl(cloud.getProvider().getCloudifyOverridesUrl());
  details.setConnectedToPrivateIp(cloud.getConfiguration().isConnectToPrivateIp());
  details.setUsername(cloud.getUser().getUser());
  details.setBindToPrivateIp(cloud.getConfiguration().isConnectToPrivateIp());
  String keyFileName=cloud.getUser().getKeyFile();
  if (keyFileName != null && !keyFileName.isEmpty()) {
    File keyFile=new File(keyFileName);
    if (!keyFile.isAbsolute()) {
      keyFile=new File(details.getLocalDir(),keyFileName);
    }
    if (!keyFile.isFile()) {
      throw new FileNotFoundException("keyfile : " + keyFile.getAbsolutePath() + " not found");
    }
    details.setKeyFile(keyFile.getAbsolutePath());
  }
  return details;
}
