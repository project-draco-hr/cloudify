{
  try {
    this.provisioning=(ProvisioningDriver)Class.forName(cloud.getConfiguration().getClassName()).newInstance();
  }
 catch (  Exception e) {
    throw new CLIException("Failed to load provisioning class from cloud: " + this.cloud,e);
  }
  provisioning.setConfig(cloud,cloud.getConfiguration().getManagementMachineTemplate(),true);
  long end=System.currentTimeMillis() + timeoutUnit.toMillis(timeout);
  ShellUtils.checkNotNull("providerDirectory",providerDirecotry);
  destroyManagementServers(Utils.millisUntil(end),TimeUnit.MILLISECONDS);
}
