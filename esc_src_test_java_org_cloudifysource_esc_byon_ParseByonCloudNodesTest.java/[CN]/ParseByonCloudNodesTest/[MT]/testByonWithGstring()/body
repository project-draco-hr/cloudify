{
  final File cloudFile=new File("src/test/resources/byon-gstring/testbyon-cloud.groovy");
  final Cloud cloud=ServiceReader.readCloud(cloudFile);
  validateCloud(cloud);
  ByonProvisioningDriver driver=new ByonProvisioningDriver();
  driver.setProvisioningDriverClassContext(new DefaultProvisioningDriverClassContext());
  driver.setConfig(cloud,cloud.getCloudCompute().getTemplates().keySet().iterator().next(),true,"test");
  Cloud modifiedCloud=driver.getCloud();
  validateCloud(modifiedCloud);
  ByonDeployer deployer=driver.getDeployer();
  Set<CustomNode> nodes=deployer.getAllNodesByTemplateName(cloud.getCloudCompute().getTemplates().keySet().iterator().next());
  Assert.assertNotNull(nodes);
  Assert.assertEquals(1,nodes.size());
  CustomNode node=nodes.iterator().next();
  Assert.assertEquals("pc-lab100",node.getPrivateIP());
}
