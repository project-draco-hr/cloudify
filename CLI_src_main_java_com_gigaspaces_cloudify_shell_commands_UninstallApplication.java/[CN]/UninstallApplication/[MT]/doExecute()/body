{
  if (!askUninstallConfirmationQuestion()) {
    return getFormattedMessage("uninstall_aborted");
  }
  final Set<String> containerIdsOfApplication=((RestAdminFacade)adminFacade).getGridServiceContainerUidsForApplication(applicationName);
  if (verbose) {
    logger.info("Containers running PUs of application " + applicationName + ":"+ containerIdsOfApplication);
  }
  this.adminFacade.uninstallApplication(this.applicationName);
  if (timeoutInMinutes > 0) {
    createConditionLatch(timeoutInMinutes,TimeUnit.MINUTES).waitFor(new Predicate(){
      @Override public boolean isDone() throws CLIException {
        Set<String> allContainerIds=((RestAdminFacade)adminFacade).getGridServiceContainerUids();
        Set<String> remainingContainersForApplication=new HashSet<String>(containerIdsOfApplication);
        remainingContainersForApplication.retainAll(allContainerIds);
        boolean isDone=remainingContainersForApplication.isEmpty();
        if (!isDone) {
          logger.info("Waiting for all service instances to uninstall. " + "Currently " + remainingContainersForApplication.size() + " instances are still running."+ (verbose ? " " + remainingContainersForApplication : ""));
        }
        return isDone;
      }
    }
);
  }
  return getFormattedMessage("application_uninstalled_succesfully",this.applicationName);
}
