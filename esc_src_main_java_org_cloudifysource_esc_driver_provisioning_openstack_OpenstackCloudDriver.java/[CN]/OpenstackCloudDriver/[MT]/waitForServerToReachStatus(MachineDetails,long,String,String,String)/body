{
  final String respone=null;
  while (true) {
    final Node node=this.getNode(serverId,token);
    final String currentStatus=node.getStatus().toLowerCase();
    if (currentStatus.equalsIgnoreCase(status)) {
      md.setPrivateAddress(node.getPrivateIp());
      break;
    }
 else {
      if (currentStatus.contains("error")) {
        throw new OpenstackException("Server provisioning failed. Node ID: " + node.getId() + ", status: "+ node.getStatus());
      }
    }
    if (System.currentTimeMillis() > endTime) {
      throw new TimeoutException("timeout creating server. last status:" + respone);
    }
    Thread.sleep(SERVER_POLLING_INTERVAL_MILLIS);
  }
}
