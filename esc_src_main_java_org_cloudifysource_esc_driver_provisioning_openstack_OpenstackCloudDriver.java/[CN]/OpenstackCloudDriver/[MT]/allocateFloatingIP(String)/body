{
  try {
    final String resp=service.path(this.pathPrefix + "os-floating-ips").header("Content-type","application/json").header("X-Auth-Token",token).accept(MediaType.APPLICATION_JSON).post(String.class,"");
    final Matcher m=Pattern.compile("\"ip\": \"([^\"]*)\"").matcher(resp);
    if (m.find()) {
      return m.group(1);
    }
 else {
      throw new IllegalStateException("Failed to allocate floating IP - IP not found in response");
    }
  }
 catch (  final UniformInterfaceException e) {
    logRestError(e);
    throw new IllegalStateException("Failed to allocate floating IP",e);
  }
}
