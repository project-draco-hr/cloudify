{
  final String response=service.path(this.pathPrefix + "os-floating-ips").header("X-Auth-Token",token).accept(MediaType.APPLICATION_JSON).get(String.class);
  final ObjectMapper mapper=new ObjectMapper();
  final Map map=mapper.readValue(new StringReader(response),Map.class);
  @SuppressWarnings("unchecked") final List<Map> list=(List<Map>)map.get("floating_ips");
  final List<FloatingIP> floatingIps=new ArrayList<FloatingIP>(map.size());
  for (  final Map floatingIpMap : list) {
    final FloatingIP ip=new FloatingIP();
    final Object instanceId=floatingIpMap.get("instance_id");
    ip.setInstanceId(instanceId == null ? null : instanceId.toString());
    ip.setIp((String)floatingIpMap.get("ip"));
    ip.setFixedIp((String)floatingIpMap.get("fixed_ip"));
    ip.setId(floatingIpMap.get("id").toString());
    floatingIps.add(ip);
  }
  return floatingIps;
}
