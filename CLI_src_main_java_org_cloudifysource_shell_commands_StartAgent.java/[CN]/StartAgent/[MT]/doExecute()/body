{
  if (timeoutInMinutes < 0) {
    throw new CLIException("-timeout cannot be negative");
  }
  final LocalhostGridAgentBootstrapper installer=new LocalhostGridAgentBootstrapper();
  installer.setVerbose(verbose);
  installer.setLookupGroups(lookupGroups);
  installer.setLookupLocators(lookupLocators);
  installer.setNicAddress(nicAddress);
  installer.setProgressInSeconds(10);
  installer.setAdminFacade((AdminFacade)session.get(Constants.ADMIN_FACADE));
  installer.setZone(zone);
  installer.setAutoShutdown(autoShutdown);
  installer.startAgentOnLocalhostAndWait(timeoutInMinutes,TimeUnit.MINUTES);
  return "Agent started succesfully. Use the shutdown-agent command to shutdown agent running on local machine.";
}
