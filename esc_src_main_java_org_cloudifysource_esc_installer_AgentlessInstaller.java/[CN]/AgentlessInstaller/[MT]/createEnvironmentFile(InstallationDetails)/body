{
  final EnvironmentFileBuilder builder=new EnvironmentFileBuilder(details.getScriptLanguage(),details.getExtraRemoteEnvironmentVariables());
  builder.loadEnvironmentFileFromDetails(details);
  final String fileContents=builder.build().toString();
  final File tempFolder=Utils.createTempFolder();
  final File tempFile=new File(tempFolder,builder.getEnvironmentFileName());
  tempFile.deleteOnExit();
  FileUtils.writeStringToFile(tempFile,fileContents);
  if (logger.isLoggable(Level.FINE)) {
    logger.fine("Created environment file with the following contents: " + fileContents);
  }
  return tempFile;
}
