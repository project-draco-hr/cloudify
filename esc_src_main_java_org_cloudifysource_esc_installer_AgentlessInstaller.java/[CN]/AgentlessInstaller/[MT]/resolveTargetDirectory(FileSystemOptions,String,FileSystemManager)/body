{
  FileSystemException lastException=null;
  for (int i=0; i < 3; ++i) {
    try {
      FileObject targetDirectory=mng.resolveFile(target,opts);
      return targetDirectory;
    }
 catch (    FileSystemException fse) {
      logger.fine("Attempt number: " + (i + 1) + " to reslve remote directory failed."+ " This may be a temporary issue while remote machine is starting up.");
      try {
        Thread.sleep(5000);
      }
 catch (      InterruptedException e) {
      }
      lastException=fse;
    }
  }
  throw lastException;
}
