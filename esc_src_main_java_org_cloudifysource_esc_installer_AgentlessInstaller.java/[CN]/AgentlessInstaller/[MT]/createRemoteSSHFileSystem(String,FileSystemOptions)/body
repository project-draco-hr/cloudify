{
  SftpFileSystemConfigBuilder.getInstance().setStrictHostKeyChecking(opts,"no");
  SftpFileSystemConfigBuilder.getInstance().setUserDirIsRoot(opts,false);
  if (keyFile != null && keyFile.length() > 0) {
    final File temp=new File(keyFile);
    if (!temp.exists()) {
      throw new FileNotFoundException("Could not find key file: " + temp + ". KeyFile "+ keyFile+ " that was passed in the installation Details does not exist");
    }
    SftpFileSystemConfigBuilder.getInstance().setIdentities(opts,new File[]{temp});
  }
  SftpFileSystemConfigBuilder.getInstance().setTimeout(opts,SFTP_DISCONNECT_DETECTION_TIMEOUT_MILLIS);
  return VFS.getManager();
}
