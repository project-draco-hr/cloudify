{
  Set<Module> modules=super.setupModules(templateName,template);
  boolean bareMetal=Utils.getBoolean(template.getCustom().get("org.cloudifysource.softlayer.bmi"),false);
  if (!bareMetal) {
    modules.add(new AbstractModule(){
      @Override protected void configure(){
        bind(VirtualGuestToNodeMetadata.class).to(VirtualGuestToReducedNodeMetaData.class);
      }
    }
);
  }
  return modules;
}
