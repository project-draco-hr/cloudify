{
  final List<CustomNode> cloudNodes=new ArrayList<CustomNode>();
  for (  final Map<String,String> nodeMap : nodesMapList) {
    if (StringUtils.isBlank(nodeMap.get(CLOUD_NODE_ID)) || StringUtils.isBlank(nodeMap.get(CLOUD_NODE_IP))) {
      throw new CloudProvisioningException("Failed to start cloud node, invalid IP/ID configuration.");
    }
    if (isIPList(nodeMap)) {
      cloudNodes.addAll(parseNodeList(nodeMap));
    }
 else     if (isIPRange(nodeMap)) {
      cloudNodes.addAll(parseNodeRange(nodeMap));
    }
 else     if (isIPCIDR(nodeMap)) {
      cloudNodes.addAll(parseNodeCIDR(nodeMap));
    }
 else {
      cloudNodes.add(parseOneNode(nodeMap));
    }
  }
  return cloudNodes;
}
