{
  Properties props=new Properties();
  props.setProperty("mail.transport.protocol","smtp");
  props.setProperty("mail.smtp.port","25");
  props.setProperty("mail.host",mailHost);
  props.setProperty("mail.user",user);
  props.setProperty("mail.password",password);
  Session mailSession=Session.getDefaultInstance(props,new Authenticator(){
    protected PasswordAuthentication getPasswordAuthentication(){
      return new PasswordAuthentication(user,password);
    }
  }
);
  Transport transport=mailSession.getTransport();
  InternetAddress[] address=new InternetAddress[1];
  address[0]=new InternetAddress("tgrid@gigaspaces.com");
  MimeMessage message=new MimeMessage(mailSession);
  message.addFrom(address);
  message.setSubject(title);
  InternetAddress[] recipientAddresses=new InternetAddress[recipients.size()];
  for (int i=0; i < recipients.size(); i++) {
    recipientAddresses[i]=new InternetAddress(recipients.get(i));
  }
  message.addRecipients(Message.RecipientType.TO,recipientAddresses);
  Multipart multipart=new MimeMultipart();
  MimeBodyPart contentPart=new MimeBodyPart();
  contentPart.setText(content);
  multipart.addBodyPart(contentPart);
  MimeBodyPart filePart=new MimeBodyPart();
  DataSource source=new FileDataSource(fileAttachment);
  filePart.setDataHandler(new DataHandler(source));
  filePart.setFileName(source.getName());
  multipart.addBodyPart(filePart);
  message.setContent(multipart);
  transport.connect();
  transport.sendMessage(message,message.getRecipients(Message.RecipientType.TO));
  transport.close();
}
