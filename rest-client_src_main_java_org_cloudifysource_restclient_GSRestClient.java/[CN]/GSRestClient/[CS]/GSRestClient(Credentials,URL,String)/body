{
  this.url=url;
  this.urlStr=createUrlStr();
  if (isSSL()) {
    logger.log(Level.INFO,"creating SSL client");
    httpClient=getSSLHttpClient();
  }
 else {
    logger.log(Level.INFO,"creating default (not SSL) client");
    httpClient=new DefaultHttpClient();
  }
  httpClient.addRequestInterceptor(new HttpRequestInterceptor(){
    @Override public void process(    HttpRequest request,    HttpContext context) throws HttpException, IOException {
      request.addHeader(CloudifyConstants.REST_API_VERSION_HEADER,version);
    }
  }
);
  setCredentials(credentials);
}
