{
  if (this.extraOptions != null) {
    final Set<Entry<String,Object>> optionEntries=this.extraOptions.entrySet();
    final TemplateOptions templateOptions=template.getOptions();
    final Method[] templateOptionsMethods=templateOptions.getClass().getMethods();
    for (    final Entry<String,Object> entry : optionEntries) {
      final String entryKey=entry.getKey();
      final Object entryValue=entry.getValue();
      if (entryValue == null) {
        handleNullValueTemplateOption(optionEntries,templateOptions,entry,entryKey);
      }
 else       if (List.class.isAssignableFrom(entryValue.getClass())) {
        handleListParameterOption(templateOptions,entryKey,entryValue,templateOptionsMethods);
      }
 else {
        handleSingleParameterOption(templateOptions,entryKey,entryValue,templateOptionsMethods);
      }
    }
  }
}
