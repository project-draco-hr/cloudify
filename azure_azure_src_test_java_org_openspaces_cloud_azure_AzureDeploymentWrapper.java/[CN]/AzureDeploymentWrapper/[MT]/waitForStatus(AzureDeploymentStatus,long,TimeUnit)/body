{
  long timeoutInMillis=timeUnit.toMillis(timeout);
  long end=System.currentTimeMillis() + timeoutInMillis;
  AzureDeploymentStatus currentStatus=getStatus();
  while (currentStatus != status && System.currentTimeMillis() < end) {
    logger.log(Level.INFO,"Current status: " + currentStatus.getStatus());
    try {
      Thread.sleep(statusPollingIntervalInMillis);
    }
 catch (    InterruptedException e) {
    }
    currentStatus=getStatus();
  }
  return currentStatus == status;
}
