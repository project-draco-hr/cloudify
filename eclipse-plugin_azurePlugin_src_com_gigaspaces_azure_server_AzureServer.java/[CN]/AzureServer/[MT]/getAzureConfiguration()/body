{
  AzureConfiguration aConfig=null;
  IFolder folder=getServer().getServerConfiguration();
  if (folder == null || !folder.exists()) {
    String path=null;
    if (folder != null) {
      path=folder.getFullPath().toOSString();
      IProject project=folder.getProject();
      if (project != null && project.exists() && !project.isOpen())       throw new CoreException(new Status(IStatus.ERROR,AzurePlugin.PLUGIN_ID,0,NLS.bind("errorConfigurationProjectClosed",path,project.getName()),null));
    }
    throw new CoreException(new Status(IStatus.ERROR,AzurePlugin.PLUGIN_ID,0,NLS.bind("errorNoConfiguration",path),null));
  }
  if (aConfig == null) {
    String id=getServer().getServerType().getId();
    aConfig=new AzureConfiguration(folder);
  }
  aConfig.load(folder,null);
  return aConfig;
}
