{
  File keyFile=null;
  for (  CloudTemplate template : this.templates.values()) {
    String keyFileStr=template.getKeyFile();
    if (StringUtils.isNotBlank(keyFileStr)) {
      keyFile=new File(keyFileStr);
      if (!keyFile.isAbsolute()) {
        String configLocalDir=template.getLocalDirectory();
        if (configLocalDir != null && !new File(configLocalDir).isAbsolute()) {
          boolean keyFileFoundOnLocalMachinePath=isKeyFileFoundOnLocalMachinePath(template);
          boolean keyFileFoundOnRemoteMachinePath=isKeyFileFoundOnRemoteMachinePath(template);
          if (!keyFileFoundOnRemoteMachinePath && !keyFileFoundOnLocalMachinePath) {
            throw new DSLValidationException("The specified key file is not found on these locations: \"" + (new File(getLocalDirPath(),keyFileStr)).getAbsolutePath() + "\", \""+ (new File(getRemoteDirPath(),keyFileStr)).getAbsolutePath()+ "\"");
          }
        }
      }
 else {
        if (!keyFile.isFile()) {
          throw new DSLValidationException("The specified key file is missing: \"" + keyFile.getAbsolutePath() + "\"");
        }
      }
    }
  }
}
