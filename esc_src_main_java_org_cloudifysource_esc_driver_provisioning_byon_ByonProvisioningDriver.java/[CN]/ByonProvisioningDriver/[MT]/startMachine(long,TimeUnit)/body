{
  final long endTime=System.currentTimeMillis() + timeUnit.toMillis(timeout);
  logger.info(this.getClass().getName() + ": startMachine, management mode: " + management);
  final Set<String> activeMachinesIPs=admin.getMachines().getHostsByAddress().keySet();
  deployer.setAllocated(cloudTemplateName,activeMachinesIPs);
  logger.info("Verifying the active machines are not in the free pool (active machines: " + Arrays.toString(activeMachinesIPs.toArray()) + ", all machines in pool: "+ Arrays.toString(deployer.getAllNodesByTemplateName(cloudTemplateName).toArray())+ ")");
  final String newServerName=createNewServerName();
  logger.info("Starting a new cloud machine with name: " + newServerName);
  return createServer(newServerName,endTime);
}
